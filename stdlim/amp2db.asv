function [ Y, f ] = amp2db( X, f )
%[ Y, f ] = amp2db( X, f )
%   Turns amplitude values
% f is the floor bound expressed in db
% default f is the lowest non-infinite value present after conversion
 
    if any(X<0), warning('Negative elements in amp matrix'); end;
    
    Y = 20 * log10(X);
    
    if nargin < 2
        f = Y(isfinite(Y(:)));
        f = min(f(:));
    end;    
    
    if ~isempty(f), Y = max(Y,f); end;
end
